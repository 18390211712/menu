webpackJsonp([1],{"9SYG":function(t,i){},AX6d:function(t,i,s){"use strict";var a=s("Dd8w"),e=s.n(a),n=s("Au9i"),o=s("NYxO"),c={data:function(){return{popupVisible:!1}},computed:e()({},Object(o.c)(["cartlist","totalprice","totalnum"])),created:function(){},methods:{emptycart:function(){var t=this;n.MessageBox.confirm("是否清空购物车?").then(function(i){t.$store.commit("empty"),t.popupVisible=!1})},reduceplusmeun:function(t){this.$store.commit("reduceplus",{data:t}),this.$store.state.cart.addlist.length<=0&&(this.popupVisible=!1)},cartdetails:function(t){t>0&&(this.popupVisible?this.popupVisible=!1:this.popupVisible=!0)},Settlement:function(){this.$router.push({path:"/order",name:"order",params:{SettlementList:this.$store.state.cart.addlist}})}}},r={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("footer",{staticClass:"footer-pur"},[s("div",{staticClass:"footer-goumai"},[s("div",{staticClass:"goumai-Cart",on:{click:function(i){t.cartdetails(t.totalnum)}}},[t._m(0),t._v(" "),t.totalnum>0?s("div",{staticClass:"goumai-number"},[s("span",[t._v(t._s(t.totalnum))])]):t._e()])]),t._v(" "),t.totalprice>0?s("div",{staticClass:"footer-price",on:{click:function(i){t.cartdetails(t.totalnum)}}},[s("span",{staticClass:"price-num"},[t._v("￥"+t._s(t.totalprice))])]):s("div",{staticClass:"footer-price"},[s("span",[t._v("未选购商品")])]),t._v(" "),s("div",{staticClass:"Settlement",on:{click:t.Settlement}},[s("span",[t._v("结算")])])]),t._v(" "),s("mt-popup",{attrs:{"popup-transition":"popup-fade"},model:{value:t.popupVisible,callback:function(i){t.popupVisible=i},expression:"popupVisible"}},[s("div",{staticClass:"cart-content"},[s("div",{staticClass:"cart-operation"},[s("div",{staticClass:"operation-left"},[t._v("已选商品")]),t._v(" "),s("div",{staticClass:"operation-right"},[s("div",{staticClass:"clearfix",on:{click:t.emptycart}},[s("i",{staticClass:"iconfont icon-trash"}),t._v(" "),s("span",[t._v("清空")])])])]),t._v(" "),s("div",{staticClass:"content-list"},[s("ul",t._l(t.cartlist,function(i,a){return s("li",[s("div",{staticClass:"menu-name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"menu-price"},[t._v("￥"+t._s(i.price))]),t._v(" "),s("div",{staticClass:"menu-num"},[s("i",{staticClass:"iconfont icon-jian",on:{click:function(s){t.reduceplusmeun({id:i.id,type:1})}}}),t._v(" "),s("span",[t._v(t._s(i.num))]),t._v(" "),s("i",{staticClass:"iconfont icon-jia",on:{click:function(s){t.reduceplusmeun({id:i.id,type:2})}}})])])}))])])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"Cart"},[i("i",{staticClass:"iconfont icon-gouwuche5"})])}]};var l=s("VU/8")(c,r,!1,function(t){s("IGn5")},"data-v-5b727f4c",null);i.a=l.exports},FEoi:function(t,i){},IGn5:function(t,i){},vDcN:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("Dd8w"),e=s.n(a),n=s("vLgD");var o=s("Au9i"),c=s("NYxO"),r={props:{FoodsList:{type:Array},MenuName:{type:String}},data:function(){return{searchCondition:{pageNo:"1",pageSize:"10"},allLoaded:!1}},computed:{},methods:e()({starArrs:function(t){for(var i=[],s=parseInt(t),a=!!Math.round(t-s),e=0;e<s;e++)i.push("icon-quanxing");for(a&&i.push("icon-banxing");i.length<5;)i.push("icon-xing");return i},loadTop:function(){this.loadPageList(),this.$refs.loadmore.onTopLoaded()},detailspage:function(t,i){this.$router.push({path:"/home/details/:id",name:"details",params:{id:t,FoodsList:this.FoodsList,index:i,MenuName:this.MenuName}})}},Object(c.b)(["addToCart"]))},l={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[this.FoodsList.length>0?s("div",{staticClass:"food-info"},[s("ul",t._l(t.FoodsList,function(i,a){return s("li",{key:i.id,staticClass:"info-img"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.detailspage(i.id,a)}}},[s("div",{staticClass:"imgbox"},[s("img",{attrs:{src:"http://39.106.7.241:3000"+i.img,alt:i.name}})]),t._v(" "),s("div",{staticClass:"food-info-main clearfix"},[s("div",{staticClass:"food-name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"food-recommend"},[s("ul",{staticClass:"star"},t._l(t.starArrs(i.recommend),function(t,i){return s("span",{staticClass:"iconfont staritem",class:t})}))]),t._v(" "),s("div",{staticClass:"food-price"},[t._v("￥"+t._s(i.price)+"/份")]),t._v(" "),s("div",{staticClass:"food-purchase",on:{click:function(s){s.stopPropagation(),t.addToCart(i)}}},[s("i",{staticClass:"icon-pur"},[t._v("+")])])])])])}))]):s("div",{staticClass:"notime-food"},[s("span",[t._v("此菜品列表暂无上线，请客官选择它们菜品")])])])},staticRenderFns:[]};var u={data:function(){return{current:0,Sowing:[],dishesDeposit:[],filstindex:"",FoodsList:[],MenuName:""}},created:function(){this.lnterfacedata()},components:{"content-list":s("VU/8")(r,l,!1,function(t){s("FEoi")},"data-v-5b039a2f",null).exports,"foor-shopping":s("AX6d").a},methods:{lnterfacedata:function(){var t=this;Object(n.a)({url:"/activeList",method:"get"}).then(function(i){t.Sowing=i.data}).catch(function(t){console.log(t)}),Object(n.a)({url:"/menuTypeList",method:"get"}).then(function(i){t.dishesDeposit=i.data,t.filstindex=i.data[0].id,t.MenuName=i.data[0].name,t.listswitch(0,t.filstindex,t.MenuName)}).catch(function(t){console.log(t)})},listswitch:function(t,i,s){var a=this;this.current=t,this.MenuName=s,o.Indicator.open(),function(t){return Object(n.a)({url:"/foodList",method:"get",params:{id:t}})}(i).then(function(t){o.Indicator.close(),a.FoodsList=t.data}).catch(function(t){console.log(t)})}}},d={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("nav-ber"),t._v(" "),s("div",{staticClass:"swipe-map"},[s("mt-swipe",{attrs:{auto:4e3}},t._l(t.Sowing,function(t,i){return s("mt-swipe-item",{key:t.id},[s("a",{attrs:{href:"javascript:;"}},[s("img",{staticClass:"img-size",attrs:{src:"http://39.106.7.241:3000"+t.img,alt:""}})])])}))],1),t._v(" "),s("div",{staticClass:"varieties clearfix"},[s("ul",t._l(t.dishesDeposit,function(i,a){return s("li",{key:i.id,staticClass:"varieties-list clearfix",on:{click:function(s){t.listswitch(a,i.id)}}},[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"varieties-name",class:{active:a==t.current}},[t._v(t._s(i.name))])])])}))]),t._v(" "),s("content-list",{attrs:{FoodsList:t.FoodsList,MenuName:t.MenuName}}),t._v(" "),s("foor-shopping")],1)},staticRenderFns:[]};var p=s("VU/8")(u,d,!1,function(t){s("9SYG")},"data-v-91de20da",null);i.default=p.exports}});