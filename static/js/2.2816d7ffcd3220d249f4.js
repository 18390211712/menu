webpackJsonp([2],{AX6d:function(t,i,s){"use strict";var n=s("Dd8w"),e=s.n(n),a=s("Au9i"),c=s("NYxO"),o={data:function(){return{popupVisible:!1}},computed:e()({},Object(c.c)(["cartlist","totalprice","totalnum"])),created:function(){},methods:{emptycart:function(){var t=this;a.MessageBox.confirm("是否清空购物车?").then(function(i){t.$store.commit("empty"),t.popupVisible=!1})},reduceplusmeun:function(t){this.$store.commit("reduceplus",{data:t}),this.$store.state.cart.addlist.length<=0&&(this.popupVisible=!1)},cartdetails:function(t){t>0&&(this.popupVisible?this.popupVisible=!1:this.popupVisible=!0)},Settlement:function(){this.$router.push({path:"/order",name:"order",params:{SettlementList:this.$store.state.cart.addlist}})}}},l={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("footer",{staticClass:"footer-pur"},[s("div",{staticClass:"footer-goumai"},[s("div",{staticClass:"goumai-Cart",on:{click:function(i){t.cartdetails(t.totalnum)}}},[t._m(0),t._v(" "),t.totalnum>0?s("div",{staticClass:"goumai-number"},[s("span",[t._v(t._s(t.totalnum))])]):t._e()])]),t._v(" "),t.totalprice>0?s("div",{staticClass:"footer-price",on:{click:function(i){t.cartdetails(t.totalnum)}}},[s("span",{staticClass:"price-num"},[t._v("￥"+t._s(t.totalprice))])]):s("div",{staticClass:"footer-price"},[s("span",[t._v("未选购商品")])]),t._v(" "),s("div",{staticClass:"Settlement",on:{click:t.Settlement}},[s("span",[t._v("结算")])])]),t._v(" "),s("mt-popup",{attrs:{"popup-transition":"popup-fade"},model:{value:t.popupVisible,callback:function(i){t.popupVisible=i},expression:"popupVisible"}},[s("div",{staticClass:"cart-content"},[s("div",{staticClass:"cart-operation"},[s("div",{staticClass:"operation-left"},[t._v("已选商品")]),t._v(" "),s("div",{staticClass:"operation-right"},[s("div",{staticClass:"clearfix",on:{click:t.emptycart}},[s("i",{staticClass:"iconfont icon-trash"}),t._v(" "),s("span",[t._v("清空")])])])]),t._v(" "),s("div",{staticClass:"content-list"},[s("ul",t._l(t.cartlist,function(i,n){return s("li",[s("div",{staticClass:"menu-name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"menu-price"},[t._v("￥"+t._s(i.price))]),t._v(" "),s("div",{staticClass:"menu-num"},[s("i",{staticClass:"iconfont icon-jian",on:{click:function(s){t.reduceplusmeun({id:i.id,type:1})}}}),t._v(" "),s("span",[t._v(t._s(i.num))]),t._v(" "),s("i",{staticClass:"iconfont icon-jia",on:{click:function(s){t.reduceplusmeun({id:i.id,type:2})}}})])])}))])])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"Cart"},[i("i",{staticClass:"iconfont icon-gouwuche5"})])}]};var r=s("VU/8")(o,l,!1,function(t){s("IGn5")},"data-v-5b727f4c",null);i.a=r.exports},IGn5:function(t,i){},auI7:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s("Dd8w"),e=s.n(n),a=s("AX6d"),c=s("NYxO"),o=s("S6w3"),l={props:["id"],mounted:function(){},data:function(){return{DetailsInfo:[],MenuName:"",commentList:[],addCommentList:[]}},created:function(){this.ListDetailsInfo(),this.Getcommentlist()},components:{"foor-shopping":a.a},methods:e()({Getcommentlist:function(){var t=this,i=this.DetailsInfo.id;Object(o.b)({food_id:i}).then(function(i){i.data.forEach(function(t,i,s){t.isUnfold=!1,t.img&&(t.img=t.img.split(",")),t.content&&t.content.length>50&&(t.content1=t.content.substr(0,50))}),t.commentList=i.data,t.addCommentList=i.data,t.commentList.forEach(function(i,s){s>5&&(t.commentList=t.commentList.slice(0,5))})}).catch(function(t){console.log(t)})},ListDetailsInfo:function(){var t=this.$route.params.index;this.DetailsInfo=this.$route.params.FoodsList[t],this.MenuName=this.$route.params.MenuName}},Object(c.b)(["addToCart"]),{reviewcomments:function(t){this.$router.push({path:"/home/details/comments",name:"comment",params:{com:t}})}})},r={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("nav-return",{attrs:{title:t.MenuName}}),t._v(" "),s("div",{staticClass:"details-info"},[s("div",{staticClass:"info"},[s("div",{staticClass:"info-menu-img"},[s("img",{attrs:{src:"http://39.106.7.241:3000"+t.DetailsInfo.img,alt:t.DetailsInfo.name}})]),t._v(" "),s("div",{staticClass:"info-content"},[s("div",{staticClass:"info-name"},[s("h3",[t._v(t._s(t.DetailsInfo.name))])]),t._v(" "),s("div",{staticClass:"info-cart-price"},[s("div",{staticClass:"info-price"},[s("span",[t._v("￥"+t._s(t.DetailsInfo.price)+"/份")])]),t._v(" "),s("div",{staticClass:"info-cart",on:{click:function(i){t.addToCart(t.DetailsInfo)}}},[s("i",{staticClass:"icon-pur"},[t._v("+")])])])])]),t._v(" "),s("div",{staticClass:"describe"},[s("div",{staticClass:"describe-content"},[t._m(0),t._v(" "),t.DetailsInfo.length>0?s("div",{staticClass:"describe-text"},[t._v(t._s(t.DetailsInfo.descs))]):s("div",{staticClass:"describe-text"},[t._v("抱歉！店长太懒了什么都没留下。")])])]),t._v(" "),s("div",{staticClass:"comment clearfix"},[s("div",{staticClass:"comment-subject clearfix"},[s("div",{staticClass:"comment-title"},[s("span",[t._v("评论")]),t._v(" "),s("router-link",{staticClass:"rightoff clearfix",attrs:{to:{name:"publish",params:{id:t.DetailsInfo.id}}},on:{click:function(i){t.publishcomment()}}},[t._v("立即评论")])],1),t._v(" "),s("ul",[s("comment-list",{attrs:{commentList:t.commentList}})],1),t._v(" "),this.commentList.length>=5?s("div",{staticClass:"comment-title"},[s("span",{staticClass:"Allcomments",on:{click:function(i){t.reviewcomments(t.addCommentList)}}},[t._v("查看全部评论")]),t._v(" "),s("i",{staticClass:"iconfont icon-you"})]):t._e()])])]),t._v(" "),s("foor-shopping")],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"describe-title"},[i("span",[this._v("描述")])])}]};var m=s("VU/8")(l,r,!1,function(t){s("nBnt")},"data-v-0f9861d3",null);i.default=m.exports},nBnt:function(t,i){}});