webpackJsonp([3],{eWPe:function(t,e){},m8SO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("mvHQ"),i=s.n(o),a=s("Au9i"),n=s("vLgD"),r=s("6iV/"),l=s.n(r);var p=s("iPXC"),c={data:function(){return{title:"上席",selected:"1",iscaptcha:!1,registerphone:"",setuppassword:"",confirmpassword:"",loginphone:"",inputpassword:""}},methods:{accountconfirm:function(t){var e,s=this;""==this.registerphone?(t.preventDefault(),Object(a.Toast)({message:"请输入您的手机号码",position:"top",duration:2e3})):this.vaildphone(this.registerphone)?""==this.setuppassword||this.setuppassword.length<6?(t.preventDefault(),Object(a.Toast)({message:"设置密码不能为空且不能小于六位数",position:"top",duration:2e3})):""==this.confirmpassword?(t.preventDefault(),Object(a.Toast)({message:"请再次确认密码",position:"top",duration:2e3})):this.confirmpassword!=this.setuppassword?(t.preventDefault(),Object(a.Toast)({message:"两次输入的密码不一致",position:"top",duration:2e3})):(t.preventDefault(),(e={phone:this.registerphone,password:this.setuppassword},Object(n.a)({url:"/users/register",method:"post",data:l.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})).then(function(t){Object(a.Toast)({message:"注册成功",position:"top",duration:2e3}),setTimeout(function(){this.$router.go(0)}.bind(s),2e3)}).catch(function(t){console.log(t)})):(t.preventDefault(),Object(a.Toast)({message:"请输入正确的手机号码",position:"top",duration:2e3}))},vaildphone:function(t){return/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(t)},userlogin:function(t){var e,s=this;if(""==this.loginphone||null==this.loginphone)t.preventDefault(),Object(a.Toast)({message:"请输入您的账号/手机号码",position:"top",duration:2e3});else if(""==this.inputpassword||null==this.inputpassword)t.preventDefault(),Object(a.Toast)({message:"请输入您的密码",position:"top",duration:2e3});else{var o={phone:this.loginphone,password:this.inputpassword};(e=o,Object(n.a)({url:"/users/login",method:"get",params:e})).then(function(t){var e=i()(t.data);s.$store.state.cart.islogin=100,s.$store.commit("setlocalStorage",e);var o=t.token;Object(p.c)(o),Object(a.Toast)({message:"登录成功",position:"top",duration:2e3}),setTimeout(function(){this.$router.push("/home")}.bind(s),2e3)}).catch(function(t){console.log(t)})}}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"login"}},[s("nav-return",{attrs:{title:t.title}}),t._v(" "),s("mt-navbar",{staticClass:"navber-login",model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("mt-tab-item",{attrs:{id:"1"}},[t._v("账号登陆")]),t._v(" "),s("mt-tab-item",{attrs:{id:"2"}},[t._v("注册账号")])],1),t._v(" "),s("div",{staticClass:"login-content"},[1==t.selected?s("div",{staticClass:"login-modular"},[s("mt-field",{attrs:{placeholder:"请输入您的账号/手机号码"},model:{value:t.loginphone,callback:function(e){t.loginphone=e},expression:"loginphone"}}),t._v(" "),s("div",{staticClass:"login-border"}),t._v(" "),s("mt-field",{attrs:{placeholder:"请输入您的密码",type:"password"},model:{value:t.inputpassword,callback:function(e){t.inputpassword=e},expression:"inputpassword"}}),t._v(" "),s("div",{staticClass:"login-btn"},[s("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.userlogin(e)}}},[t._v("登录")])],1),t._v(" "),t._m(0)],1):s("div",[s("form",{attrs:{action:"post"}},[s("div",{staticClass:"register"},[s("mt-field",{attrs:{name:"phone",placeholder:"请输入您的手机号码",type:"tel"},model:{value:t.registerphone,callback:function(e){t.registerphone=e},expression:"registerphone"}}),t._v(" "),s("mt-field",{staticClass:"login-captcha",staticStyle:{display:"none"},attrs:{name:"captcha",placeholder:"请输入收到的验证码"}}),t._v(" "),s("div",{staticClass:"login-btn"},[s("mt-button",{class:0==t.iscaptcha?"captcha-disable":"",staticStyle:{display:"none"},attrs:{type:"primary",size:"large"}},[t._v("获取验证码")])],1),t._v(" "),s("mt-field",{attrs:{placeholder:"请输入您设置的密码",type:"password"},model:{value:t.setuppassword,callback:function(e){t.setuppassword=e},expression:"setuppassword"}}),t._v(" "),s("mt-field",{attrs:{placeholder:"再次确认您设置的密码",type:"password"},model:{value:t.confirmpassword,callback:function(e){t.confirmpassword=e},expression:"confirmpassword"}}),t._v(" "),s("div",{staticClass:"login-btn"},[s("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.accountconfirm(e)}}},[t._v("确认注册")])],1)],1)])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-footer",staticStyle:{display:"none"}},[e("div",{staticClass:"retrieve"},[this._v("找回密码")])])}]};var u=s("VU/8")(c,d,!1,function(t){s("eWPe")},"data-v-3b165656",null);e.default=u.exports},mvHQ:function(t,e,s){t.exports={default:s("qkKv"),__esModule:!0}},qkKv:function(t,e,s){var o=s("FeBl"),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});